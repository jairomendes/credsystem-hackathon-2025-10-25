# ğŸ‘ï¸ Guia Visual da SoluÃ§Ã£o

Um guia visual para entender rapidamente como a soluÃ§Ã£o funciona.

## ğŸ¯ Problema vs SoluÃ§Ã£o

### âŒ Problema: Usar apenas API Externa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Request  â”‚â”€â”€â”€â”€â–¶â”‚  Sua API     â”‚â”€â”€â”€â”€â–¶â”‚  OpenRouter  â”‚
â”‚          â”‚     â”‚              â”‚     â”‚  (300ms)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
         â±ï¸  Lento (300ms)
         ğŸ’° Caro ($0.001/req)
         ğŸŒ Depende da internet
         âŒ Pode falhar
```

### âœ… SoluÃ§Ã£o: KNN Local + AI Fallback

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Request  â”‚â”€â”€â”€â”€â–¶â”‚  KNN Local       â”‚
â”‚          â”‚     â”‚  (< 1ms)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                â”‚
         âœ… Alta           âŒ Baixa
         ConfianÃ§a         ConfianÃ§a
              â”‚                â”‚
              â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Responde â”‚      â”‚ AI API   â”‚
        â”‚RÃ¡pido   â”‚      â”‚(300ms)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ RÃ¡pido 85% do tempo
ğŸ’° EconÃ´mico (85% menos API)
ğŸ›¡ï¸ ConfiÃ¡vel (funciona offline)
âœ… Sempre responde
```

## ğŸ“Š Fluxo de Dados Simplificado

```
1ï¸âƒ£ ENTRADA
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ {"intent": "quero mais limite"} â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
2ï¸âƒ£ PRÃ‰-PROCESSAMENTO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ "quero mais limite"             â”‚
   â”‚   â†“ lowercase                   â”‚
   â”‚ "quero mais limite"             â”‚
   â”‚   â†“ tokenize                    â”‚
   â”‚ ["quero", "mais", "limite"]     â”‚
   â”‚   â†“ remove stopwords            â”‚
   â”‚ ["quero", "limite"]             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
3ï¸âƒ£ VETORIZAÃ‡ÃƒO (TF-IDF)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ["quero", "limite"]             â”‚
   â”‚   â†“                             â”‚
   â”‚ [0.0, 0.5, 0.0, ..., 0.8, 0.0]  â”‚
   â”‚  ^                        ^      â”‚
   â”‚  â””â”€ vetor de 300 dimensÃµes â”€â”˜   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
4ï¸âƒ£ SIMILARIDADE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Comparar com 93 vetores:            â”‚
   â”‚                                     â”‚
   â”‚ Intent 1: sim = 0.45                â”‚
   â”‚ Intent 2: sim = 0.62                â”‚
   â”‚ ...                                 â”‚
   â”‚ Intent 6: sim = 0.85 â­ (melhor!)  â”‚
   â”‚ ...                                 â”‚
   â”‚ Intent 93: sim = 0.31               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
5ï¸âƒ£ DECISÃƒO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ sim = 0.85       â”‚
   â”‚ threshold = 0.75 â”‚
   â”‚                  â”‚
   â”‚ 0.85 â‰¥ 0.75 ? âœ… â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
6ï¸âƒ£ RESPOSTA
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ {                               â”‚
   â”‚   "service_id": 6,              â”‚
   â”‚   "service_name": "SolicitaÃ§Ã£o  â”‚
   â”‚                    de aumento   â”‚
   â”‚                    de limite"   â”‚
   â”‚ }                               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Anatomia do TF-IDF

### Como funciona visualmente:

```
CORPUS (93 intents):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. "quanto tem disponÃ­vel para usar"   â”‚
â”‚ 2. "quero aumentar meu limite"         â”‚
â”‚ 3. "perdi meu cartÃ£o"                  â”‚
â”‚ ...                                    â”‚
â”‚ 93. "cÃ³digo de token da proposta"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
VOCABULÃRIO (palavras Ãºnicas):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                                       â”‚
â”‚   "quanto": 0,     "tem": 1,           â”‚
â”‚   "disponÃ­vel": 2, "para": 3,          â”‚
â”‚   "usar": 4,       "quero": 5,         â”‚
â”‚   "aumentar": 6,   "limite": 7,        â”‚
â”‚   ...                                   â”‚
â”‚ }                                       â”‚
â”‚ Total: ~300 palavras                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
IDF (importÃ¢ncia de cada palavra):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "aumentar": 3.2  (rara = importante)    â”‚
â”‚ "limite":   2.1  (comum em 10 docs)     â”‚
â”‚ "cartÃ£o":   1.5  (muito comum)          â”‚
â”‚ "para":     0.3  (stopword)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
VETORES TF-IDF:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Intent 2: "quero aumentar meu limite"   â”‚
â”‚                                         â”‚
â”‚ Vetor [300 dimensÃµes]:                  â”‚
â”‚ [0, 0, ..., 0.5, 0, 0.8, ..., 0.4, 0]   â”‚
â”‚             ^        ^          ^        â”‚
â”‚             â”‚        â”‚          â”‚        â”‚
â”‚          quero   aumentar    limite     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Similaridade de Cossenos Visual

```
Query: "preciso de mais limite"
Vetor Q: [0.6, 0.0, 0.0, 0.9]

Intent 6: "quero aumentar meu limite"
Vetor A: [0.5, 0.0, 0.0, 0.8]

Intent 11: "perdi meu cartÃ£o"
Vetor B: [0.0, 0.9, 0.7, 0.0]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        EspaÃ§o Vetorial 2D          â”‚
â”‚                                    â”‚
â”‚    A â—  Q â—  (Ã‚ngulo pequeno)     â”‚
â”‚       â•²  â•±                         â”‚
â”‚        â•²â•±                          â”‚
â”‚         â— Origem                   â”‚
â”‚        â•±                           â”‚
â”‚       â•±                            â”‚
â”‚      â— B (Ã‚ngulo grande)           â”‚
â”‚                                    â”‚
â”‚  cos(Q,A) = 0.85 â­ ALTO!         â”‚
â”‚  cos(Q,B) = 0.12 âŒ BAIXO         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ Performance Visual

### DistribuiÃ§Ã£o de LatÃªncia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        â”‚
â”‚  Requests                              â”‚
â”‚    â”‚                                   â”‚
â”‚ 85%â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                      â”‚
â”‚    â”‚ â–ˆ KNN Local â–ˆ                     â”‚
â”‚    â”‚ â–ˆ  (< 1ms)  â–ˆ                     â”‚
â”‚    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                     â”‚
â”‚    â”‚                                   â”‚
â”‚ 15%â”‚               â–ˆâ–ˆ                  â”‚
â”‚    â”‚               â–ˆ AI â–ˆ              â”‚
â”‚    â”‚               â–ˆ(300)â–ˆ             â”‚
â”‚    â”‚               â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶       â”‚
â”‚       Local        AI      Tempo       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Custo Acumulado (1000 requests)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        â”‚
â”‚  Custo ($)                             â”‚
â”‚    â”‚                                   â”‚
â”‚ 1.0â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 100% API
â”‚    â”‚                         â”‚         â”‚
â”‚ 0.5â”‚                         â”‚         â”‚
â”‚    â”‚                         â”‚         â”‚
â”‚ 0.15â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ Nossa SoluÃ§Ã£o
â”‚    â”‚         â”‚                         â”‚
â”‚ 0.0â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶         â”‚
â”‚        0       500        1000         â”‚
â”‚                Requests                â”‚
â”‚                                        â”‚
â”‚  ğŸ’° Economia: 85%!                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ Arquitetura em Camadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               HTTP Layer (handler.go)           â”‚
â”‚  â€¢ Routing                                      â”‚
â”‚  â€¢ Validation                                   â”‚
â”‚  â€¢ Error handling                               â”‚
â”‚  â€¢ Logging                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Business Logic Layer                  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  KNN Local   â”‚         â”‚  AI Fallback    â”‚  â”‚
â”‚  â”‚  (knn.go)    â”‚         â”‚  (ai_fallback)  â”‚  â”‚
â”‚  â”‚              â”‚         â”‚                 â”‚  â”‚
â”‚  â”‚ â€¢ Classify   â”‚         â”‚ â€¢ Build prompt  â”‚  â”‚
â”‚  â”‚ â€¢ Similarity â”‚         â”‚ â€¢ HTTP call     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                          â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Data Layer                         â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TF-IDF      â”‚         â”‚  CSV Loader     â”‚  â”‚
â”‚  â”‚  (tfidf.go)  â”‚         â”‚  (loader.go)    â”‚  â”‚
â”‚  â”‚              â”‚         â”‚                 â”‚  â”‚
â”‚  â”‚ â€¢ Vectorize  â”‚         â”‚ â€¢ Parse CSV     â”‚  â”‚
â”‚  â”‚ â€¢ Transform  â”‚         â”‚ â€¢ Validate      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                          â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Storage Layer                        â”‚
â”‚                                                 â”‚
â”‚  â€¢ In-memory vectors (93 intents)              â”‚
â”‚  â€¢ Vocabulary map (~300 words)                  â”‚
â”‚  â€¢ IDF scores                                   â”‚
â”‚  â€¢ Service mappings                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Estado do Sistema

### Durante InicializaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 1: Loading Data              â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%       â”‚
â”‚  â€¢ Reading CSV... âœ…                â”‚
â”‚  â€¢ Parsing 93 intents... âœ…         â”‚
â”‚  â€¢ Building vocabulary... â³        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 2: Training Model            â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 50%           â”‚
â”‚  â€¢ Computing IDF... â³              â”‚
â”‚  â€¢ Vectorizing intents...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 3: Starting Server           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%      â”‚
â”‚  â€¢ HTTP server ready âœ…             â”‚
â”‚  â€¢ Listening on :18020 âœ…           â”‚
â”‚  â€¢ Ready to serve! ğŸš€               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Durante OperaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sistema em ProduÃ§Ã£o                â”‚
â”‚                                     â”‚
â”‚  Requests/seg:   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ] 87%   â”‚
â”‚  KNN Local:      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ] 92%   â”‚
â”‚  AI Fallback:    [â–ˆ         ]  8%   â”‚
â”‚  Errors:         [           ]  0%   â”‚
â”‚                                     â”‚
â”‚  LatÃªncia P50:   0.8ms              â”‚
â”‚  LatÃªncia P99:   145ms              â”‚
â”‚  Memory:         24MB / 128MB       â”‚
â”‚  CPU:            4% / 50%           â”‚
â”‚                                     â”‚
â”‚  Status: ğŸŸ¢ Healthy                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ DecisÃ£o de Threshold Visual

```
Confidence Threshold: 0.75
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚  1.0 â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ KNN OK âœ…   â”‚
â”‚      â”‚                              â”‚
â”‚  0.9 â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚
â”‚      â”‚                              â”‚
â”‚  0.8 â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚
â”‚      â”‚                              â”‚
â”‚ >0.75â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”€ â”€ â”€ â”€    â”‚ â† Threshold
â”‚  ^   â”‚                   â–²          â”‚
â”‚  â”‚   â”‚                   â”‚          â”‚
â”‚  â”‚   â”‚ â–“â–“â–“â–“â–“â–“â–“â–“ AI âš ï¸    â”‚          â”‚
â”‚  0.7 â”‚                   â”‚          â”‚
â”‚  â”‚   â”‚                   â”‚          â”‚
â”‚  â”‚   â”‚ â–“â–“â–“â–“â–“â–“â–“â–“          â”‚          â”‚
â”‚  0.6 â”‚                   â–¼          â”‚
â”‚  â”‚   â”‚                              â”‚
â”‚  0.5 â”‚ â–“â–“â–“â–“â–“â–“â–“â–“ AI Fallback ğŸ“¡      â”‚
â”‚      â”‚                              â”‚
â”‚  0.0 â”‚                              â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚         DistribuiÃ§Ã£o Esperada      â”‚
â”‚                                     â”‚
â”‚  â–ˆ = Alta confianÃ§a (KNN local)    â”‚
â”‚  â–“ = Baixa confianÃ§a (AI fallback) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ajuste o threshold para balancear:
  â†‘ 0.85: Mais chamadas AI (mais preciso)
  â†“ 0.65: Menos chamadas AI (mais rÃ¡pido)
```

## ğŸ“Š Matriz de ConfusÃ£o Visual

```
                Predito
         â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         â”‚ S1 â”‚ S2 â”‚ S3 â”‚... â”‚
      â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
   S1 â”‚  â”‚ 95 â”‚  2 â”‚  1 â”‚  0 â”‚
      â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
R  S2 â”‚  â”‚  3 â”‚ 92 â”‚  1 â”‚  2 â”‚
e     â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
a  S3 â”‚  â”‚  1 â”‚  0 â”‚ 97 â”‚  1 â”‚
l     â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
   ...â”‚  â”‚  0 â”‚  1 â”‚  0 â”‚ 98 â”‚
      â””â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

â–ˆ = Alta precisÃ£o (> 95%)
â–“ = MÃ©dia (90-95%)
â–‘ = Baixa (< 90%)
```

## ğŸš€ ConclusÃ£o Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚         ğŸ† SOLUÃ‡ÃƒO VENCEDORA ğŸ†                 â”‚
â”‚                                                 â”‚
â”‚  âš¡ RÃPIDA      < 1ms (85% das vezes)          â”‚
â”‚  ğŸ’° ECONÃ”MICA   85% menos custo API            â”‚
â”‚  ğŸ¯ PRECISA     ~95% de acurÃ¡cia               â”‚
â”‚  ğŸ›¡ï¸ CONFIÃVEL   Funciona offline              â”‚
â”‚  ğŸ“š DOCUMENTADA Completa e clara               â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  KNN Local (85%)                        â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â”‚   â”‚
â”‚  â”‚                                         â”‚   â”‚
â”‚  â”‚  AI Fallback (15%)                      â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚
â”‚           PRONTA PARA PRODUÃ‡ÃƒO! ğŸš€              â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Este guia visual complementa a documentaÃ§Ã£o tÃ©cnica completa.**
**Para mais detalhes, consulte README.md e ARCHITECTURE.md**

